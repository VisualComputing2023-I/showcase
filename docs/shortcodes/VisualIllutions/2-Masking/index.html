<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="2 - Masking # Ejercicio Implementar un kinegram y algunos patrones de moiré que están estrechamente relacionado con el fenómeno de masking. Introducción # Kinegram - Scanimation # Los scanimations son un tipo de kinegramas. Estos son una ilusión óptica que se produce cuando un dibujo, fotograma opatrón gráfico adquiere movimiento.
Consta de dos partes: un dibujo “formado por diversas rayas de diferentegrosor y disposición” y una pantalla transparente de plástico con franjas o rayas."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="2 - Masking # Ejercicio Implementar un kinegram y algunos patrones de moiré que están estrechamente relacionado con el fenómeno de masking. Introducción # Kinegram - Scanimation # Los scanimations son un tipo de kinegramas. Estos son una ilusión óptica que se produce cuando un dibujo, fotograma opatrón gráfico adquiere movimiento.
Consta de dos partes: un dibujo “formado por diversas rayas de diferentegrosor y disposición” y una pantalla transparente de plástico con franjas o rayas."><meta property="og:type" content="article"><meta property="og:url" content="https://visualcomputing2023-i.github.io/showcase/docs/shortcodes/VisualIllutions/2-Masking/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-03-30T11:00:46-05:00"><title>2 Masking | Visual Computing 2023 I</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Visual Computing 2023 I</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Shortcodes</span><ul><li><input type=checkbox id=section-dd37a9f3e41ff30b937bca342681c735 class=toggle>
<label for=section-dd37a9f3e41ff30b937bca342681c735 class="flex justify-between"><a href=/showcase/docs/shortcodes/3DApplication/>3 Dapplication</a></label><ul><li><a href=/showcase/docs/shortcodes/3DApplication/3DApp/>3 Dapp</a></li></ul></li><li><input type=checkbox id=section-ec67a64aba70b9df3d2a9acd6c92e3bc class=toggle>
<label for=section-ec67a64aba70b9df3d2a9acd6c92e3bc class="flex justify-between"><a href=/showcase/docs/shortcodes/p5/>P5</a></label><ul><li><a href=/showcase/docs/shortcodes/p5/iframe/>Iframe</a></li><li><a href=/showcase/docs/shortcodes/p5/div/>Div</a></li></ul></li><li><input type=checkbox id=section-37d133451a87125afc7e4d4a60cdb12b class=toggle>
<label for=section-37d133451a87125afc7e4d4a60cdb12b class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/>Shaders</a></label><ul><li><a href=/showcase/docs/shortcodes/Shaders/1-ProceduralTexturing/>1 Procedural Texturing</a></li><li><a href=/showcase/docs/shortcodes/Shaders/2-ImageProcessing/>2 Image Processing</a></li></ul></li><li><input type=checkbox id=section-46ef92ed4553b248f8f108332fae886a class=toggle>
<label for=section-46ef92ed4553b248f8f108332fae886a class="flex justify-between"><a href=/showcase/docs/shortcodes/Team/>Team</a></label><ul><li><a href=/showcase/docs/shortcodes/Team/Diego-Alvarado/>Diego Alvarado</a></li><li><a href=/showcase/docs/shortcodes/Team/Juli%C3%A1n-Manosalva/>Julián Manosalva</a></li><li><a href=/showcase/docs/shortcodes/Team/Sebasti%C3%A1n-Pach%C3%B3n/>Sebastián Pachón</a></li></ul></li><li><input type=checkbox id=section-94839c8d59cd3fd9e827edbeb4e69371 class=toggle checked>
<label for=section-94839c8d59cd3fd9e827edbeb4e69371 class="flex justify-between"><a href=/showcase/docs/shortcodes/VisualIllutions/>Visual Illutions</a></label><ul><li><a href=/showcase/docs/shortcodes/VisualIllutions/1-Visual-Illutions/>1 Visual Illutions</a></li><li><a href=/showcase/docs/shortcodes/VisualIllutions/2-Masking/ class=active>2 Masking</a></li><li><a href=/showcase/docs/shortcodes/VisualIllutions/3-Mach-Bands/>3 Mach Bands</a></li></ul></li></ul></li></ul><ul><li><a href=/showcase/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>2 Masking</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#2---masking>2 - Masking</a></li><li><a href=#introducción><strong>Introducción</strong></a><ul><li><ul><li><a href=#kinegram---scanimation><strong>Kinegram - Scanimation</strong></a></li></ul></li></ul></li><li><a href=#antecedentes-y-trabajo-previo><strong>Antecedentes y trabajo previo</strong></a><ul><li><ul><li><a href=#pacman-scanimation>Pacman Scanimation</a></li><li><a href=#código>Código</a></li><li><a href=#resultado>Resultado</a></li><li><a href=#dino-scanimation>Dino Scanimation</a></li><li><a href=#código-1>Código</a></li><li><a href=#resultado-1>Resultado</a></li></ul></li><li><a href=#patrones-de-moaré>Patrones de Moaré</a><ul><li><a href=#patrones-circulares>Patrones circulares</a></li><li><a href=#código-2>Código</a></li><li><a href=#resultado-2>Resultado</a></li></ul></li><li><a href=#barrier-grid-animation-and-stereography>Barrier grid animation and stereography</a><ul><li><a href=#código-3>Código</a></li></ul></li><li><a href=#resultado-3>Resultado:</a></li><li><a href=#kernels-de-imagen>Kernels de Imagen</a><ul><li><a href=#código-4>Código</a></li><li><a href=#resultado-4>Resultado</a></li></ul></li></ul></li><li><a href=#conclusiones><strong>Conclusiones</strong></a></li><li><a href=#trabajo-futuro><strong>Trabajo futuro</strong></a></li><li><a href=#referencias><strong>Referencias</strong></a></li></ul></nav></aside></header><article class=markdown><h1 id=2---masking>2 - Masking
<a class=anchor href=#2---masking>#</a></h1><blockquote class="book-hint info"><b>Ejercicio</b>
Implementar un kinegram y algunos patrones de moiré que están estrechamente relacionado con el fenómeno de masking.</blockquote><h1 id=introducción><strong>Introducción</strong>
<a class=anchor href=#introducci%c3%b3n>#</a></h1><h3 id=kinegram---scanimation><strong>Kinegram - Scanimation</strong>
<a class=anchor href=#kinegram---scanimation>#</a></h3><p>Los scanimations son un tipo de kinegramas. Estos son una ilusión óptica que se produce cuando un dibujo, fotograma opatrón gráfico adquiere movimiento.</p><p>Consta de dos partes: un dibujo “formado por diversas rayas de diferentegrosor y disposición” y una pantalla transparente de plástico con franjas o rayas.</p><p>Al superponerse dicha transparencia o acetato de rayas sobre los dibujos segenera una imagen en movimiento.</p><p>Esta ilusión se basa en el principio de la persistencia retiniana y el patrón deinterferencias que nuestro cerebro interpreta como movimiento.</p><p>El dibujo está formado en realidad por todos los fotogramas de una imagenanimada, uno encima de otro y bien centrados. La función de la rejilla es tapartodos los fotogramas excepto uno, que es el que vemos ese momento. Losfotogramas están colocados de forma que a media que se desplaza la rejillahacia un lado vemos el siguiente fotograma tapando todos los demás y dandola impresión de movimiento.</p><h1 id=antecedentes-y-trabajo-previo><strong>Antecedentes y trabajo previo</strong>
<a class=anchor href=#antecedentes-y-trabajo-previo>#</a></h1><p>La ilusión óptica es un fenómeno fascinante que ha cautivado a las personas durante siglos. En el campo de la computación visual, las ilusiones ópticas se han estudiado y se han utilizado para comprender mejor cómo el cerebro procesa la información visual. Una técnica comúnmente utilizada en el estudio de las ilusiones ópticas es el &ldquo;masking&rdquo;, que consiste en presentar un estímulo visual que enmascara el estímulo principal para determinar cómo se percibe el estímulo principal en presencia del enmascaramiento.</p><p>En la investigación sobre el masking en ilusiones ópticas, se han utilizado diferentes tipos de máscaras para enmascarar el estímulo principal. Estas máscaras pueden ser patrones de luz o sombras, o patrones de color o textura. El objetivo de estas máscaras es ocultar parcial o completamente el estímulo principal para medir la sensibilidad de los sistemas visuales humanos a diferentes tipos de información visual. Los estudios sobre masking en ilusiones ópticas han arrojado resultados interesantes y han ayudado a los investigadores a entender mejor cómo el cerebro procesa y percibe la información visual.</p><p>En cuanto al trabajo previo en el campo del masking en ilusiones ópticas en computación visual, se han desarrollado diferentes técnicas para generar máscaras y aplicarlas a los estímulos visuales. Una de las técnicas más utilizadas es la generación de máscaras de ruido aleatorio, que se aplican al estímulo visual para enmascarar la información en diferentes niveles de intensidad y frecuencia espacial. También se han utilizado técnicas de máscara adaptativa, en las que se ajusta la máscara según la sensibilidad visual del observador, y técnicas de máscara de enmascaramiento interocular, en las que se presenta una máscara diferente en cada ojo del observador para crear un efecto de enmascaramiento binocular. Estas técnicas han permitido a los investigadores estudiar la percepción visual en diferentes condiciones y han proporcionado nuevas perspectivas sobre el procesamiento visual humano.</p><h3 id=pacman-scanimation>Pacman Scanimation
<a class=anchor href=#pacman-scanimation>#</a></h3><h3 id=código>Código
<a class=anchor href=#c%c3%b3digo>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>900</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>flag</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>900</span>, <span style=color:#ae81ff>300</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pacman</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;/showcase/sketches/assets/pacman.png&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Image background
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>pacman</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Move lines
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>flag</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>x</span><span style=color:#f92672>--</span> <span style=color:#f92672>:</span> <span style=color:#a6e22e>x</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Change direction
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>) <span style=color:#a6e22e>flag</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>x</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>width</span>) <span style=color:#a6e22e>flag</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Vertical lines
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>x</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>width</span> ; <span style=color:#a6e22e>i</span><span style=color:#f92672>+=</span><span style=color:#ae81ff>18</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>color</span>(<span style=color:#e6db74>&#39;black&#39;</span>));
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>i</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>13</span>, <span style=color:#ae81ff>247</span>);
</span></span><span style=display:flex><span>  } 
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=resultado>Resultado
<a class=anchor href=#resultado>#</a></h3><iframe id=pacman style=width:700px;height:300px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/pacman.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h3 id=dino-scanimation>Dino Scanimation
<a class=anchor href=#dino-scanimation>#</a></h3><h3 id=código-1>Código
<a class=anchor href=#c%c3%b3digo-1>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>slider</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>500</span>, <span style=color:#ae81ff>500</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>dino</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;/showcase/sketches/assets/dino.jpg&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>slider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>480</span>, <span style=color:#ae81ff>480</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>slider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>40</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>slider</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;width&#39;</span>, <span style=color:#e6db74>&#39;480px&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>18</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Deslizar para ver la animación&#39;</span>, <span style=color:#a6e22e>width</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>15</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Image background
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>dino</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>20</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Get slide value
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>slider</span>.<span style=color:#a6e22e>value</span>()
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Vertical lines
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>x</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>width</span> ; <span style=color:#a6e22e>i</span><span style=color:#f92672>+=</span><span style=color:#ae81ff>7</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>color</span>(<span style=color:#e6db74>&#39;black&#39;</span>));
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>i</span>, <span style=color:#ae81ff>40</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>380</span>);
</span></span><span style=display:flex><span>  } 
</span></span><span style=display:flex><span>   
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=resultado-1>Resultado
<a class=anchor href=#resultado-1>#</a></h3><iframe id=dino style=width:525px;height:525px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/dino.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=patrones-de-moaré>Patrones de Moaré
<a class=anchor href=#patrones-de-moar%c3%a9>#</a></h2><p>Es un patrón de interferencia que se forma cuando se superponen dos rejillas de líneas, ya sean rectas o curvas, con un cierto ángulo3​ o cuando tales rejillas tienen tamaños ligeramente diferentes.</p><p>Este efecto se manifiesta de muchas maneras. Las líneas pueden ser las fibras textiles de una tela de muaré (las cuales dan su nombre al efecto), o bien simples líneas en una pantalla de ordenador. La visión humana crea la ilusión de unas bandas oscuras y claras horizontales, que se superponen a las líneas finas que en realidad son las que forman el trazo. Patrones de muaré más complejos pueden formarse igualmente al superponer figuras complejas hechas de líneas curvas y entrelazadas. Si cada una de las rejillas tiene un color distinto, el patrón de muaré resultante será de un tercer color.</p><h3 id=patrones-circulares>Patrones circulares
<a class=anchor href=#patrones-circulares>#</a></h3><h3 id=código-2>Código
<a class=anchor href=#c%c3%b3digo-2>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>checkbox</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>slider</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>520</span>, <span style=color:#ae81ff>520</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>checkbox</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#39;Automático&#39;</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>checkbox</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>30</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>slider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>250</span>, <span style=color:#ae81ff>800</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>250</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>slider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>slider</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;width&#39;</span>, <span style=color:#e6db74>&#39;500px&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Draw on canvas center
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>rectMode</span>(<span style=color:#a6e22e>CENTER</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>background</span>(<span style=color:#e6db74>&#39;white&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Create 100 circles
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>1000</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>10</span>) {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// First set of circles
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>stroke</span>(<span style=color:#e6db74>&#39;yellow&#39;</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#ae81ff>3</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ellipse</span>(<span style=color:#a6e22e>x</span>, <span style=color:#ae81ff>280</span>, <span style=color:#a6e22e>i</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>500</span>, <span style=color:#a6e22e>i</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>500</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Second set of circles
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>noFill</span>()
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>stroke</span>(<span style=color:#e6db74>&#39;blue&#39;</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#ae81ff>3</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ellipse</span>(<span style=color:#ae81ff>260</span>, <span style=color:#ae81ff>280</span>, <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>i</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Automatic movement
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>checkbox</span>.<span style=color:#a6e22e>checked</span>()) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>?</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>:</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>slider</span>.<span style=color:#a6e22e>value</span>()
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>stroke</span>(<span style=color:#e6db74>&#39;white&#39;</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#39;white&#39;</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rect</span>(<span style=color:#ae81ff>60</span>, <span style=color:#ae81ff>42</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>25</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=resultado-2>Resultado
<a class=anchor href=#resultado-2>#</a></h3><iframe id=moire style=width:545px;height:545px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/moire.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=barrier-grid-animation-and-stereography>Barrier grid animation and stereography
<a class=anchor href=#barrier-grid-animation-and-stereography>#</a></h2><p>La animación de rejilla de barrera o animación de piquete es un efecto de animación creado moviendo una superposición transparente a rayas a través de una imagen entrelazada. La técnica de la rejilla de barrera se originó a finales de la década de 1890, coincidiendo con el desarrollo de la estereografía de paralaje (Relièphographie) para autoestereogramas 3D. La técnica también se ha utilizado para imágenes que cambian de color, pero en mucha menor medida.</p><p>El desarrollo de las tecnologías de rejilla de barrera también puede considerarse un paso hacia la impresión lenticular, aunque la técnica se ha mantenido tras la invención de las tecnologías lenticulares como una forma relativamente barata y sencilla de producir imágenes animadas impresas.</p><h3 id=código-3>Código
<a class=anchor href=#c%c3%b3digo-3>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>ancho</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>alturaMalla</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.4</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>distanciaEntreBarras</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>numeroBarras</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>40</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>equivalencia</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>770</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>700</span>, <span style=color:#ae81ff>700</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>malla</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Malla</span>(<span style=color:#a6e22e>ancho</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>alturaMalla</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>distanciaEntreBarras</span>,<span style=color:#a6e22e>numeroBarras</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>malla</span>.<span style=color:#a6e22e>display</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>malla</span>.<span style=color:#a6e22e>move</span>(<span style=color:#a6e22e>mouseX</span>, <span style=color:#a6e22e>mouseY</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Se dibuja la máquina
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>rect</span>(<span style=color:#ae81ff>410</span>,<span style=color:#ae81ff>150</span>,<span style=color:#ae81ff>100</span>,<span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rect</span>(<span style=color:#ae81ff>420</span>,<span style=color:#ae81ff>250</span>,<span style=color:#ae81ff>80</span>,<span style=color:#ae81ff>20</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rect</span>(<span style=color:#ae81ff>420</span>,<span style=color:#ae81ff>270</span>,<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>70</span>)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>425</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>495</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>+=</span><span style=color:#ae81ff>10</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>i</span>,<span style=color:#ae81ff>270</span>,<span style=color:#ae81ff>7</span>,<span style=color:#ae81ff>7</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>425</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>495</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>+=</span><span style=color:#ae81ff>10</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>i</span>,<span style=color:#ae81ff>278</span>,<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>30</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>485</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>425</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>-=</span><span style=color:#ae81ff>10</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>i</span>,<span style=color:#ae81ff>309</span>,<span style=color:#ae81ff>3</span>,<span style=color:#ae81ff>15</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>485</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>425</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>-=</span><span style=color:#ae81ff>10</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>324</span>,<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>15</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rect</span>(<span style=color:#ae81ff>495</span>, <span style=color:#ae81ff>270</span>, <span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>5</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rect</span>(<span style=color:#ae81ff>494</span>, <span style=color:#ae81ff>278</span>, <span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>30</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rect</span>(<span style=color:#ae81ff>494</span>, <span style=color:#ae81ff>307</span>, <span style=color:#ae81ff>3</span>,<span style=color:#ae81ff>15</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rect</span>(<span style=color:#ae81ff>497</span>, <span style=color:#ae81ff>324</span>, <span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>15</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>&lt;=</span><span style=color:#ae81ff>500</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>+=</span><span style=color:#ae81ff>10</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>i</span>, <span style=color:#ae81ff>300</span>,<span style=color:#a6e22e>i</span>, <span style=color:#ae81ff>370</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>480</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>&lt;=</span><span style=color:#ae81ff>1000</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>+=</span><span style=color:#ae81ff>10</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#ae81ff>5</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>i</span>, <span style=color:#ae81ff>360</span>,<span style=color:#a6e22e>i</span>, <span style=color:#ae81ff>370</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>358</span>,<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>372</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>357</span>,<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>372</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>300</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>8</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>+=</span><span style=color:#ae81ff>1</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>,<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>73</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>-</span><span style=color:#ae81ff>10</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>10</span>,<span style=color:#a6e22e>x</span><span style=color:#f92672>-</span><span style=color:#ae81ff>10</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>73</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>,<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>76</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>,<span style=color:#a6e22e>x</span><span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>76</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>-</span><span style=color:#ae81ff>13</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>8</span>,<span style=color:#a6e22e>x</span><span style=color:#f92672>-</span><span style=color:#ae81ff>13</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>75</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>-</span><span style=color:#ae81ff>23</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>18</span>,<span style=color:#a6e22e>x</span><span style=color:#f92672>-</span><span style=color:#ae81ff>23</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>61</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>-</span><span style=color:#ae81ff>12</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>25</span>,<span style=color:#a6e22e>x</span><span style=color:#f92672>-</span><span style=color:#ae81ff>12</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>58</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>-</span><span style=color:#ae81ff>20</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>20</span>,<span style=color:#a6e22e>x</span><span style=color:#f92672>-</span><span style=color:#ae81ff>20</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>63</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>-</span><span style=color:#ae81ff>22</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>16</span>,<span style=color:#a6e22e>x</span><span style=color:#f92672>-</span><span style=color:#ae81ff>22</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>59</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#ae81ff>12</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>25</span>,<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#ae81ff>12</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>58</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#ae81ff>10</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>10</span>,<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#ae81ff>10</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>73</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#ae81ff>13</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>8</span>,<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#ae81ff>13</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>75</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#ae81ff>23</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>18</span>,<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#ae81ff>23</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>63</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#ae81ff>20</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>20</span>,<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#ae81ff>20</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>65</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#ae81ff>30</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>30</span>,<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#ae81ff>30</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#ae81ff>55</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>x</span><span style=color:#f92672>+=</span><span style=color:#ae81ff>60</span>;  
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Malla</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>constructor</span>(<span style=color:#a6e22e>iw</span>, <span style=color:#a6e22e>ixp</span>, <span style=color:#a6e22e>ih</span>, <span style=color:#a6e22e>iyp</span>, <span style=color:#a6e22e>id</span>, <span style=color:#a6e22e>it</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>w</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>iw</span>; <span style=color:#75715e>// ancho de una barra
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>xpos</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ixp</span>; <span style=color:#75715e>// posición x del rectángulo
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>h</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ih</span>; <span style=color:#75715e>// altura del rectángulo
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>ypos</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>iyp</span>; <span style=color:#75715e>// posición y del rectángulo
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>d</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>id</span>; <span style=color:#75715e>// distancia de una barra
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>t</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>it</span>; <span style=color:#75715e>// número de barras
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>display</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>t</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>negro</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color</span>(<span style=color:#e6db74>&#39;black&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>negro</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>stroke</span>(<span style=color:#ae81ff>255</span>,<span style=color:#ae81ff>255</span>,<span style=color:#ae81ff>255</span>)
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>rect</span>(
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>xpos</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>*</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>d</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>w</span>),
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>ypos</span>,
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>w</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>height</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>h</span>
</span></span><span style=display:flex><span>      );
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>stroke</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>move</span>(<span style=color:#a6e22e>posX</span>, <span style=color:#a6e22e>posY</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>ypos</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>posY</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>xpos</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>posX</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=resultado-3>Resultado:
<a class=anchor href=#resultado-3>#</a></h2><iframe id=kk style=width:700px;height:500px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script>
              

let ancho = 10;
let alturaMalla = 0.4;
let distanciaEntreBarras = 1;
let numeroBarras = 40;
let equivalencia = 770
function setup() {

  createCanvas(700, 700);

  malla = new Malla(ancho,0,alturaMalla,0,distanciaEntreBarras,numeroBarras);
}

function draw() {
  background(255);

  
  //Creación de la malla
  malla.display();
  malla.move(mouseX, mouseY);

  strokeWeight(2);

  //Se dibuja la máquina
  rect(410,150,100,100);
  rect(420,250,80,20);
  
  rect(420,270,1,70)
  for (let i = 425; i< 495; i+=10){
    rect(i,270,7,7);
  }
  for (let i = 425; i< 495; i+=10){
    rect(i,278,5,30);
  }
  for (let i = 485; i>= 425; i-=10){
    rect(i,309,3,15);
  }
  for (let i = 485; i>= 425; i-=10){
    rect(i+2,324,1,15);
  }
  rect(495, 270, 5,5);
  rect(494, 278, 5,30);
  rect(494, 307, 3,15);
  rect(497, 324, 1,15);

  //Se crea malla principal
  for (let i = 0; i<=500; i+=10){
    strokeWeight(4);
    line(i, 300,i, 370);
    strokeWeight(2);
  }

  //Se crea malla luego de pasar por la maquina
  for (let i = 480; i<=1000; i+=10){
    strokeWeight(5);
    line(i, 360,i, 370);
    strokeWeight(1);
    line(i+3, 358,i+3, 372);
    line(i+4, 357,i+4, 372);
    strokeWeight(2);

  }
  
  let x = 0;
  let y = 300;
  for(let i = 0; i<= 8; i+=1){
    strokeWeight(2);
    line(x, y+5,x, y+73);
    line(x-10, y+10,x-10, y+73);

    line(x+2, y-2,x+2, y+76);
    line(x-2, y-2,x-2, y+76);

    line(x-13, y+8,x-13, y+75);
    line(x-23, y+18,x-23, y+61);
    line(x-12, y+25,x-12, y+58);
    line(x-20, y+20,x-20, y+63);
    line(x-22, y+16,x-22, y+59);

    line(x+12, y+25,x+12, y+58);
    line(x+10, y+10,x+10, y+73);
    line(x+13, y+8,x+13, y+75);
    line(x+23, y+18,x+23, y+63);
    line(x+20, y+20,x+20, y+65);
    line(x+30, y+30,x+30, y+55);

    x+=60;  
  }

  strokeWeight(2);

}
// clase Malla
class Malla {
  constructor(iw, ixp, ih, iyp, id, it) {
    this.w = iw; // ancho de una barra
    this.xpos = ixp; // posición x del rectángulo
    this.h = ih; // altura del rectángulo
    this.ypos = iyp; // posición y del rectángulo
    this.d = id; // distancia de una barra
    this.t = it; // número de barras
  }
  
  display() {
    for (let i = 0; i < this.t; i++) {
      let negro = color('black');
      fill(negro);
      stroke(255,255,255)
      rect(
        this.xpos + i * (this.d + this.w),
        this.ypos,
        this.w,
        height * this.h
      );
      stroke(0,0,0)
    }
  }

  move(posX, posY) {
    this.ypos = posY;
    this.xpos = posX;
  }
}


            </script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=kernels-de-imagen>Kernels de Imagen
<a class=anchor href=#kernels-de-imagen>#</a></h2><blockquote class="book-hint info"><b>Ejercicio</b>
Implementar en software una aplicación web de procesamiento de imágenes compatible con diferentes kernels de imágenes</blockquote><p>Un núcleo o kernel de imagen es una pequeña matriz que se utiliza para aplicar efectos como los que se pueden encontrar en Photoshop o Gimp, como desenfoque, nitidez, contorno o relieve. También se utilizan en el aprendizaje automático para la &ldquo;extracción de características&rdquo;, una técnica para determinar las partes más importantes de una imagen. En este contexto, el proceso se denomina más generalmente &ldquo;convolución&rdquo;.</p><p>Para esta implemetación se usarán kernels de 3x3, los cuales serán aplicado a la imagen original.</p><h3 id=código-4>Código
<a class=anchor href=#c%c3%b3digo-4>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>/* 
</span></span></span><span style=display:flex><span><span style=color:#75715e>    Base Code for Kernel from: https://editor.p5js.org/jeffThompson/sketches/MyfhklBlv
</span></span></span><span style=display:flex><span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>*/</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>kernels</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;identity&#34;</span> <span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>      [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>      [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>      [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;blur&#34;</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>      [<span style=color:#ae81ff>0.0625</span>, <span style=color:#ae81ff>0.125</span>, <span style=color:#ae81ff>0.0625</span>],
</span></span><span style=display:flex><span>      [<span style=color:#ae81ff>0.125</span>, <span style=color:#ae81ff>0.25</span>, <span style=color:#ae81ff>0.125</span>],
</span></span><span style=display:flex><span>      [<span style=color:#ae81ff>0.0625</span>, <span style=color:#ae81ff>0.125</span>, <span style=color:#ae81ff>0.0625</span>]
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;sharpen&#34;</span> <span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>      [<span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>      [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>5</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>      [<span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;edge&#34;</span> <span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>      [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>      [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>8</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>      [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;bottomsobel&#34;</span> <span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>      [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>      [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>      [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;emboss&#34;</span> <span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>      [<span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>      [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>      [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>]
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;leftsobel&#34;</span> <span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>      [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>      [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>      [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;rigtsobel&#34;</span> <span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>      [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>      [<span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>      [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;topsobel&#34;</span> <span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>      [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>      [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>],
</span></span><span style=display:flex><span>      [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>  ],    
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>originalimg</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>img</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>selectkernel</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>originalimg</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;/showcase/sketches/assets/versalles.jpg&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>originalimg</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// resize the image to fit the window, then 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// create the canvas at that size
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>resize</span>(<span style=color:#a6e22e>windowWidth</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noLoop</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Select kernel
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>selectkernel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSelect</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>selectkernel</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>key</span> <span style=color:#66d9ef>of</span> Object.<span style=color:#a6e22e>keys</span>(<span style=color:#a6e22e>kernels</span>)){
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>selectkernel</span>.<span style=color:#a6e22e>option</span>(<span style=color:#a6e22e>key</span>)
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>selectkernel</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>applyKernel</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>img</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>applyKernel</span>(){
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>selectkernel</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>kernelFilter</span>(<span style=color:#a6e22e>originalimg</span>, <span style=color:#a6e22e>kernels</span>[<span style=color:#a6e22e>k</span>]);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>img</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>kernelFilter</span>(<span style=color:#a6e22e>input</span>, <span style=color:#a6e22e>kernel</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// we need to access neighboring pixels, so we have
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// to create a blank output image to work with
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>output</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createImage</span>(<span style=color:#a6e22e>input</span>.<span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>input</span>.<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// start at 1 and end -1 from edge so our kernel
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// doesn&#39;t try to grab pixels that don&#39;t exist!
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>input</span>.<span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>output</span>.<span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>input</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>y</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>input</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>x</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#75715e>// for each pixel, we add up rgb values for
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#75715e>// itself and its neighbors, weighted by the kernel
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>sumR</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>sumG</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>sumB</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#75715e>// go through neighboring pixels
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>offsetY</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>offsetY</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>offsetY</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>              <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>offsetX</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>offsetX</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>offsetX</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                  <span style=color:#75715e>// grab the current pixel
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>neighborIndex</span> <span style=color:#f92672>=</span> ((<span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>offsetY</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>input</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>+</span> (<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>offsetX</span>)) <span style=color:#f92672>*</span> <span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>                  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>input</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>neighborIndex</span>];
</span></span><span style=display:flex><span>                  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>input</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>neighborIndex</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>                  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>input</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>neighborIndex</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                  <span style=color:#75715e>// apply kernel and add to the sum
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                  <span style=color:#75715e>// (we +1 here so that we get the kernel index
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                  <span style=color:#75715e>// from our offsetX/offsetY values)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                  <span style=color:#a6e22e>sumR</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>kernel</span>[<span style=color:#a6e22e>offsetY</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>offsetX</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>r</span>;
</span></span><span style=display:flex><span>                  <span style=color:#a6e22e>sumG</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>kernel</span>[<span style=color:#a6e22e>offsetY</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>offsetX</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>g</span>;
</span></span><span style=display:flex><span>                  <span style=color:#a6e22e>sumB</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>kernel</span>[<span style=color:#a6e22e>offsetY</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>offsetX</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>              }
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#75715e>// having checked all neighbors, make sure final
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#75715e>// values are in range 0–255
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#a6e22e>sumR</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>constrain</span>(<span style=color:#a6e22e>sumR</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>sumG</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>constrain</span>(<span style=color:#a6e22e>sumG</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>sumB</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>constrain</span>(<span style=color:#a6e22e>sumB</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#75715e>// change the pixel value
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>index</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>y</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>input</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>x</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>output</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>sumR</span>;
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>output</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>sumG</span>;
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>output</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>sumB</span>;
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>output</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>255</span>;
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// send the image back
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>output</span>.<span style=color:#a6e22e>updatePixels</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>output</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=resultado-4>Resultado
<a class=anchor href=#resultado-4>#</a></h3><p>Se pueden aplicar los siguientes kernels:</p><ul><li>Identity (Ningún filtro a la imagen)</li><li>Blur</li><li>Sharpen</li><li>Edge</li><li>Bottomsobel</li><li>Emboss</li><li>Leftsobel</li><li>Rigthsobel</li><li>Topsobel</li></ul><p>Para variar entre kernels utilice el selector ubicado en la parte superior izquierda.</p><iframe id=kernel style=width:925px;height:600px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/kernel.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h1 id=conclusiones><strong>Conclusiones</strong>
<a class=anchor href=#conclusiones>#</a></h1><ol><li><p>El masking es un fenómeno perceptual importante en la visión humana que ha sido objeto de estudio en la psicología y la neurociencia durante décadas.</p></li><li><p>En la computación visual, el masking se utiliza para mejorar la eficacia de las técnicas de procesamiento de imágenes y la detección de objetos.</p></li><li><p>Los métodos de masking han demostrado ser eficaces para reducir el ruido en las imágenes y aumentar la percepción de los detalles.</p></li><li><p>El masking también se utiliza en la creación de ilusiones ópticas, lo que ha llevado a un mayor entendimiento de cómo funciona la visión humana y cómo se pueden engañar nuestros ojos.</p></li><li><p>Aunque el masking ha sido estudiado durante décadas, todavía hay mucho por aprender sobre su funcionamiento en la visión humana y cómo se puede aplicar de manera efectiva en la computación visual. Por lo tanto, se espera que se realice más investigación en esta área en el futuro.</p></li></ol><h1 id=trabajo-futuro><strong>Trabajo futuro</strong>
<a class=anchor href=#trabajo-futuro>#</a></h1><p>La ilusión óptica es un fenómeno intrigante y fascinante que ha cautivado la atención de las personas durante siglos. En los últimos años, los avances en la tecnología de la computación visual han permitido a los investigadores explorar en profundidad los mecanismos subyacentes a estas ilusiones y crear nuevas ilusiones ópticas mediante técnicas de procesamiento de imágenes. En particular, el &ldquo;masking&rdquo; o enmascaramiento es una técnica utilizada para estudiar la percepción visual que consiste en presentar una imagen visualmente ruidosa para enmascarar la imagen objetivo que se desea presentar al observador. El masking se ha utilizado ampliamente en la investigación de la percepción visual en el campo de la psicología y la neurociencia, y su uso en ilusiones ópticas promete ser aún más prometedor en el futuro.</p><p>En el futuro, se espera que el masking se utilice en combinación con otras técnicas de procesamiento de imágenes para crear ilusiones ópticas aún más complejas y fascinantes. Por ejemplo, se podría utilizar el masking para crear ilusiones ópticas tridimensionales que parezcan saltar de la pantalla. También se podría utilizar el masking para estudiar cómo se procesa la información visual en el cerebro, lo que podría tener importantes implicaciones en el tratamiento de enfermedades neurológicas y psiquiátricas. En última instancia, el uso del masking en ilusiones ópticas promete ser una herramienta valiosa para entender mejor la percepción visual humana y llevar la tecnología de la computación visual a nuevas alturas.</p><h1 id=referencias><strong>Referencias</strong>
<a class=anchor href=#referencias>#</a></h1><ul><li><p><a href=https://es.wikipedia.org/wiki/Patr%C3%B3n_de_muar%C3%A9>Wikipedia - Patrones de Moaré</a></p></li><li><p><a href=https://www.studocu.com/es-mx/document/universidad-de-mexico/tecnologias-de-la-informacion/los-scanimations-son-un-tipo-de-kinegramas/31686995>Universidad de México - Scanimations</a></p></li><li><p><a href=https://setosa.io/ev/image-kernels/>Setosa.io - Image Kernels</a></p></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://jupachonc.github.io/showcase/commit/bc23b2b7d1e4ad848249867b99a6bc4d49e610fe title='Last modified by Julian Manosalva Manrique | March 30, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>March 30, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#2---masking>2 - Masking</a></li><li><a href=#introducción><strong>Introducción</strong></a><ul><li><ul><li><a href=#kinegram---scanimation><strong>Kinegram - Scanimation</strong></a></li></ul></li></ul></li><li><a href=#antecedentes-y-trabajo-previo><strong>Antecedentes y trabajo previo</strong></a><ul><li><ul><li><a href=#pacman-scanimation>Pacman Scanimation</a></li><li><a href=#código>Código</a></li><li><a href=#resultado>Resultado</a></li><li><a href=#dino-scanimation>Dino Scanimation</a></li><li><a href=#código-1>Código</a></li><li><a href=#resultado-1>Resultado</a></li></ul></li><li><a href=#patrones-de-moaré>Patrones de Moaré</a><ul><li><a href=#patrones-circulares>Patrones circulares</a></li><li><a href=#código-2>Código</a></li><li><a href=#resultado-2>Resultado</a></li></ul></li><li><a href=#barrier-grid-animation-and-stereography>Barrier grid animation and stereography</a><ul><li><a href=#código-3>Código</a></li></ul></li><li><a href=#resultado-3>Resultado:</a></li><li><a href=#kernels-de-imagen>Kernels de Imagen</a><ul><li><a href=#código-4>Código</a></li><li><a href=#resultado-4>Resultado</a></li></ul></li></ul></li><li><a href=#conclusiones><strong>Conclusiones</strong></a></li><li><a href=#trabajo-futuro><strong>Trabajo futuro</strong></a></li><li><a href=#referencias><strong>Referencias</strong></a></li></ul></nav></div></aside></main></body></html>